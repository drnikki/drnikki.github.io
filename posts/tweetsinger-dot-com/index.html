<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>TweetSinger.com | Dr. Nikki Stevens</title><meta name=keywords content><meta name=description content="We (LBi US, where I’m a developer) just launched TweetSinger.com, a Sony Mobile campaign site for their new Xperia series phones. This was my first large non-Drupal project in a while and it was fun to get to do something different."><meta name=author content="Dr. Nikki Stevens"><link rel=canonical href=https://nikkistevens.com/posts/tweetsinger-dot-com/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.3613efbd0b1772781e8f49935e973cae632a7f61471c05b17be155505ccf87b5.css integrity="sha256-NhPvvQsXcngej0mTXpc8rmMqf2FHHAWxe+FVUFzPh7U=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://nikkistevens.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://nikkistevens.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://nikkistevens.com/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://nikkistevens.com/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://nikkistevens.com/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-18227202-1","auto"),ga("send","pageview"))</script><meta property="og:title" content="TweetSinger.com"><meta property="og:description" content="We (LBi US, where I’m a developer) just launched TweetSinger.com, a Sony Mobile campaign site for their new Xperia series phones. This was my first large non-Drupal project in a while and it was fun to get to do something different."><meta property="og:type" content="article"><meta property="og:url" content="https://nikkistevens.com/posts/tweetsinger-dot-com/"><meta property="og:image" content="https://nikkistevens.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2012-09-22T00:00:00+00:00"><meta property="article:modified_time" content="2012-09-22T00:00:00+00:00"><meta property="og:site_name" content="Dr. Nikki Stevens"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://nikkistevens.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="TweetSinger.com"><meta name=twitter:description content="We (LBi US, where I’m a developer) just launched TweetSinger.com, a Sony Mobile campaign site for their new Xperia series phones. This was my first large non-Drupal project in a while and it was fun to get to do something different."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://nikkistevens.com/posts/"},{"@type":"ListItem","position":2,"name":"TweetSinger.com","item":"https://nikkistevens.com/posts/tweetsinger-dot-com/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"TweetSinger.com","name":"TweetSinger.com","description":"We (LBi US, where I’m a developer) just launched TweetSinger.com, a Sony Mobile campaign site for their new Xperia series phones. This was my first large non-Drupal project in a while and it was fun to get to do something different.","keywords":[],"articleBody":"We (LBi US, where I’m a developer) just launched TweetSinger.com, a Sony Mobile campaign site for their new Xperia series phones. This was my first large non-Drupal project in a while and it was fun to get to do something different.\nWhat was initially presented to me as a “quick two-page site” took a month of long hours to finish.\nThe technology:\nIt’s built in Symfony, backed by MongoDB, and using HTML5 canvas for visualizations.\nWe’re running a ton of Ubuntu web servers behind a load balancer and one MongoDB server all on Amazon EC2. I got to do all of my own devops on this project and it was nice to have complete control of the stack. We deploy with Capistrano (and its multi-stage extension) and files are stored on S3. Integrating with S3 was totally painless using a pre-existing Symfony library. It was an 11th-hour switch due to storage concerns with EBS and it was absolutely the best choice we could have made.\nI was initially concerned about storing huge json files in the db (each record is about 1MB), but it hasn’t been a problem at all. This is a fairly simple application for a database - there won’t ever be race conditions. The record is written only once upon song creation and will only be read thereafter. (A few edge cases notwithstanding). Getting the mongo server \u0026 RAID’ed EBS volumes was a lot easier than I expected.\nThe conversion is being done by a REST server that was written in Java, lives in Tomcat, and is built with ant via the the same Capistrano script I use to deploy the site.\nLessons learned:\nAn Amazon EC2 instance instance has to be off to make an image of it. This is one of those things that sounds so obvious, until you forget to shut an instance down before making an AMI and then can’t figure out why you can’t SSH into it.\nThe site itself is fairly small - only two discrete pages and a minimal admin area. It was initially presented to me as “a quick little build.” It’s easy to fall into the trap of thinking that perhaps some of the best practices that are part of developing large websites wouldn’t be needed on a smaller project. This, of course, is wrong. Best practices exist usually because they’re “best.” Not best “only if your dev team has 15 people on it.” Or best “just when you’ve got plenty of time.”\nHaving a structured build system, using pull requests to get code into master, documenting everything in a place any team member can access - these practices saved us hours even on this “little” website. I only briefly considered sidestepping some of these, but those practices are there to protect me (and the code) from myself as well.\nThe super-smart Yury Tillis was the front-end engineer on the project and is supposed to do a write-up of some of the magic he worked for the visualization.\nCongratulations to the entire LBi US team who worked so hard to get it launched.\nCheck it out at www.tweetsinger.com\n","wordCount":"520","inLanguage":"en","datePublished":"2012-09-22T00:00:00Z","dateModified":"2012-09-22T00:00:00Z","author":{"@type":"Person","name":"Dr. Nikki Stevens"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://nikkistevens.com/posts/tweetsinger-dot-com/"},"publisher":{"@type":"Organization","name":"Dr. Nikki Stevens","logo":{"@type":"ImageObject","url":"https://nikkistevens.com/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://nikkistevens.com/ accesskey=h title="Dr. Nikki Stevens (Alt + H)"><img src=https://nikkistevens.com/apple-touch-icon.png alt aria-label=logo height=35>Dr. Nikki Stevens</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://nikkistevens.com/about/ title=About><span>About</span></a></li><li><a href=https://nikkistevens.com/research/ title=Research><span>Research</span></a></li><li><a href=https://nikkistevens.com/open-source/ title="Open Source"><span>Open Source</span></a></li><li><a href=https://nikkistevens.com/posts/ title=Posts><span>Blog</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://nikkistevens.com/>Home</a>&nbsp;»&nbsp;<a href=https://nikkistevens.com/posts/>Posts</a></div><h1 class=post-title>TweetSinger.com</h1><div class=post-meta><span title='2012-09-22 00:00:00 +0000 UTC'>September 22, 2012</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;520 words&nbsp;·&nbsp;Dr. Nikki Stevens</div></header><div class=post-content><p>We (LBi US, where I’m a developer) just launched TweetSinger.com, a Sony
Mobile campaign site for their new Xperia series phones. This was my
first large non-Drupal project in a while and it was fun to get to do
something different.</p><p>What was initially presented to me as a “quick two-page site” took a
month of long hours to finish.</p><p><strong>The technology:</strong></p><p>It&rsquo;s built in Symfony, backed by MongoDB, and using HTML5 canvas for
visualizations.</p><p>We’re running a ton of Ubuntu web servers behind a load balancer and one
MongoDB server all on Amazon EC2. I got to do all of my own devops on
this project and it was nice to have complete control of the stack. We
deploy with Capistrano (and its multi-stage extension) and files are
stored on S3. Integrating with S3 was totally painless using a
pre-existing Symfony library. It was an 11th-hour switch due to storage
concerns with EBS and it was absolutely the best choice we could have
made.</p><p>I was initially concerned about storing huge json files in the db (each
record is about 1MB), but it hasn’t been a problem at all. This is a
fairly simple application for a database - there won’t ever be race
conditions. The record is written only once upon song creation and will
only be read thereafter. (A few edge cases notwithstanding). Getting the
mongo server & RAID’ed EBS volumes was a lot easier than I expected.</p><p>The conversion is being done by a REST server that was written in Java,
lives in Tomcat, and is built with ant via the the same Capistrano
script I use to deploy the site.</p><p><strong>Lessons learned:</strong></p><p>An Amazon EC2 instance instance has to be off to make an image of it. This
is one of those things that sounds so obvious, until you forget to shut
an instance down before making an AMI and then can’t figure out why you
can’t SSH into it.</p><p>The site itself is fairly small - only two discrete pages and a minimal
admin area. It was initially presented to me as “a quick little build.”
It’s easy to fall into the trap of thinking that perhaps some of the
best practices that are part of developing large websites wouldn’t be
needed on a smaller project. This, of course, is wrong. Best practices
exist usually because they’re “best.” Not best “only if your dev team
has 15 people on it.” Or best “just when you’ve got plenty of time.”</p><p>Having a structured build system, using pull requests to get code into
master, documenting everything in a place any team member can access -
these practices saved us hours even on this “little” website. I only
briefly considered sidestepping some of these, but those practices are
there to protect me (and the code) from myself as well.</p><p>The super-smart Yury Tillis was the front-end engineer on the project
and is supposed to do a write-up of some of the magic he worked for the
visualization.</p><p>Congratulations to the entire LBi US team who worked so hard to get it
launched.</p><p>Check it out at <a href=http://www.tweetsinger.com>www.tweetsinger.com</a></p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://nikkistevens.com/>Dr. Nikki Stevens</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>